{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth.guard.ts","./src/app/components/appview/appview.component.ts","./src/app/components/appview/appview.component.html","./src/app/components/auth/auth.component.ts","./src/app/components/auth/auth.component.html","./src/app/components/markup/markup.component.ts","./src/app/components/markup/markup.component.html","./src/app/components/sidebar/sidebar.component.ts","./src/app/components/sidebar/sidebar.component.html","./src/app/directives/click-stop-propogation.directive.ts","./src/app/interface/drow.ts","./src/app/pipe/recount.pipe.ts","./src/app/services/cookies.service.ts","./src/app/services/draw.service.ts","./src/app/services/http.service.ts","./src/app/services/move.service.ts","./src/app/services/resize.service.ts","./src/app/services/rotate.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\nimport { ResponseFile } from './interface/response-data';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n\n  public uploadFiles: ResponseFile[];\n  public move = 0;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  changeImage(isNext: boolean): void {\n    const amoutFiles = this.uploadFiles.length - 1;\n    if (this.move === 0 && !isNext) {\n      this.move = amoutFiles;\n    } else if (this.move === amoutFiles && isNext) {\n      this.move = 0;\n    } else {\n      this.move += isNext ? 1 : -1;\n    }\n  }\n}\n","<main>\n  <router-outlet></router-outlet>\n</main>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\nimport { AppviewComponent } from './components/appview/appview.component';\nimport { AuthComponent } from './components/auth/auth.component';\nimport { MarkupComponent } from './components/markup/markup.component';\n\nimport { RecountPipe } from './pipe/recount.pipe';\n\nimport { ClickStopPropogationDirective } from './directives/click-stop-propogation.directive';\n\nimport { AuthGuard } from './auth.guard';\n\n// определение маршрутов\nconst appRoutes: Routes = [\n  { path: '', component: MarkupComponent, canActivate: [AuthGuard]},\n  { path: 'auth', component: AuthComponent},\n  { path: '**', redirectTo: '/'},\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SidebarComponent,\n    AppviewComponent,\n    RecountPipe,\n    ClickStopPropogationDirective,\n    AuthComponent,\n    MarkupComponent,\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    RouterModule.forRoot(appRoutes),\n  ],\n  providers: [HttpClientModule, RecountPipe, AuthGuard],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\nimport { Observable} from 'rxjs';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\r\nimport { CookiesService } from './services/cookies.service';\r\n\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate{\r\n    constructor(private router: Router, private cookiesService: CookiesService) {}\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\r\n        if (!this.cookiesService.getItem('token')) {\r\n            this.router.navigate(['auth']);\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n","import {\n  Component,\n  Input,\n  OnChanges,\n  ViewChild,\n  ElementRef,\n  OnInit,\n} from '@angular/core';\nimport { DrawObject, Status } from '../../interface/drow';\nimport { DrawService } from '../../services/draw.service';\nimport { MoveService } from '../../services/move.service';\nimport { RotateService } from '../../services/rotate.service';\nimport { ResponseFile, SearchObject } from 'src/app/interface/response-data';\nimport { HttpService } from 'src/app/services/http.service';\nimport { ResizeService } from 'src/app/services/resize.service';\nimport { Axis } from 'src/app/pipe/recount.pipe';\n\n@Component({\n  selector: 'app-appview',\n  templateUrl: './appview.component.html',\n  styleUrls: ['./appview.component.scss'],\n})\n\nexport class AppviewComponent implements OnInit, OnChanges {\n\n  public Status = Status;\n  public Axis = Axis;\n\n  // переводы\n  public rectsTitle = 'Области';\n  public rectsPartName = 'Область';\n  public objectsTitle = 'Объекты';\n\n  private reader = new FileReader();\n  public imageUrl: string;\n  public status = Status.Disabled;\n\n  // Для канваса\n  public savedObjects: DrawObject[] = [];\n  public activeDrawObject: DrawObject;\n  private drawObject: DrawObject = {\n    point1: {x: 0, y: 0},\n    point2: {x: 0, y: 0},\n    num: 0,\n  };\n  private activeObject: SearchObject;\n\n  // флаги\n  public isRotate = false;\n  private isMouseDown = false;\n  private isDisabled = true;\n\n  @Input() currentMove = 0;\n  @Input() files: ResponseFile[] = [];\n  @ViewChild('canvas', {static: false}) canvas: ElementRef;\n  @ViewChild('rotateBlock', {static: false}) rotateBlock: ElementRef;\n  @ViewChild('rotateBtn', {static: false}) rotateBtn: ElementRef;\n\n  constructor(\n    private drawService: DrawService,\n    private httpService: HttpService,\n    private moveService: MoveService,\n    private rotateService: RotateService,\n    private resizeService: ResizeService,\n  ) {}\n\n  ngOnInit(): void {\n    this.httpService.isSendData.subscribe(() => {\n        if (!this.files) {\n          return;\n        }\n        this.httpService.sendImage(this.files);\n        this.files = this.savedObjects = [];\n        this.currentMove = 0;\n        this.imageUrl = '';\n        this.status = Status.Disabled;\n        this.isMouseDown = false;\n        this.activeDrawObject = this.activeObject = undefined;\n        this.drawObject = {\n          point1: {x: 0, y: 0},\n          point2: {x: 0, y: 0},\n          num: 0,\n          rotate: 0,\n        };\n        this.drawService.clearDraw(this.canvas);\n        this.drawService.renewableColors();\n    });\n  }\n\n  async ngOnChanges(): Promise<void> {\n    if (!this.files) {\n      return;\n    }\n    this.status = Status.Free;\n    this.activeObject = this.files[this.currentMove].objects[0];\n    this.savedObjects = this.activeObject.rects ? this.activeObject.rects : [];\n    this.drawService.clearDraw(this.canvas);\n    this.savedObjects.forEach((el: DrawObject) => {\n      this.drawService.drawRect(this.canvas, el);\n    });\n    await this.readUrl();\n  }\n\n  readUrl(): Promise<ProgressEvent<FileReader>> {\n    return new Promise((resolve, reject) => {\n      this.reader.onload = (e) => {\n        this.imageUrl = e.target.result as string;\n        resolve(e);\n      };\n      this.reader.readAsDataURL(this.files[this.currentMove].file);\n    });\n  }\n\n  onItemClick(e: any, object: DrawObject): void {\n    if (e.target.classList.contains('active')) {\n      this.status = Status.Free;\n      this.activeDrawObject = undefined;\n    } else {\n      this.status = Status.Grab;\n      this.activeDrawObject = object;\n      this.showRotateTools(object);\n    }\n    this.changeActiveElement(e, 'rects__item');\n  }\n\n  onObjectClick(e: any, object: SearchObject): void {\n    if (this.activeObject.id === object.id) {\n      return;\n    }\n    this.changeActiveElement(e, 'objects__item');\n    this.refreshObjects();\n\n    this.drawService.clearDraw(this.canvas, true);\n    this.savedObjects = object.rects ? object.rects : [];\n    this.activeDrawObject = undefined;\n    this.status = Status.Free;\n    this.isMouseDown = false;\n    if (this.savedObjects.length) {\n      this.savedObjects.forEach(obj => {\n        this.drawService.drawRect(this.canvas, obj);\n      });\n    }\n    this.activeObject = object;\n  }\n\n  changeActiveElement(e: any, className: string): void {\n    e.target.classList.toggle('active');\n    document.querySelectorAll(`.${ className }`).forEach(el => {\n      if (el !== e.target) {\n        el.classList.remove('active');\n      }\n    });\n  }\n\n  showRotateTools(object: DrawObject): void {\n    this.rotateBtn.nativeElement.children[0].style.fill = object.hisColor;\n    if (this.activeDrawObject.rotate === 0) {\n      this.rotateBlock.nativeElement.children[1].style.display = 'block';\n      this.rotateBlock.nativeElement.children[1].style.backgroundColor = object.hisColor;\n    } else {\n      this.rotateBlock.nativeElement.children[1].style.display = 'none';\n    }\n\n    // повверх рисуем доп прямоугольник\n    this.rotateBlock.nativeElement.style.width = `${ object.point2.x - object.point1.x }px`;\n    this.rotateBlock.nativeElement.style.height = `${ object.point2.y - object.point1.y }px`;\n    this.rotateBlock.nativeElement.style.top = `${ object.point1.y }px`;\n    this.rotateBlock.nativeElement.style.left = `${ object.point1.x }px`;\n    this.rotateService.rotateCurrentBlock(object.rotate, this.rotateBlock);\n  }\n\n  // рисование\n  ctxMouseDown(e: MouseEvent): void {\n    if (this.status === Status.Free) {\n      this.status = Status.Draw;\n      this.drawService.startDraw(this.drawObject, e);\n    }\n  }\n\n  ctxMouseMove(e: MouseEvent): void {\n    if (this.status === Status.Draw) {\n      this.drawObject = this.drawService.drawInProgres(this.canvas, e, this.drawObject, this.savedObjects);\n    }\n  }\n\n  ctxMouseUp(): void {\n    switch (this.status) {\n      case Status.Draw:\n        this.drawObject.hisColor = this.drawService.endDraw();\n        this.savedObjects.push({\n          point1: this.drawObject.point1,\n          point2: this.drawObject.point2,\n          num: this.savedObjects.length,\n          hisColor: this.drawObject.hisColor,\n          rotate: 0,\n        });\n        this.refreshObjects();\n        this.status = Status.Free;\n        break;\n      case Status.Resize:\n        this.resizeEnd();\n        this.drawService.refreshCanvas(this.canvas, this.savedObjects);\n        break;\n    }\n  }\n\n  // изменение прямоугольника\n  startChangeObject(e: MouseEvent, status: Status): void {\n    this.rotateBlock.nativeElement.style.cursor = 'grabbing';\n    this.status = status;\n    switch (status) {\n      case Status.Moving:\n        this.moveService.moveStart(e);\n        break;\n      case Status.Rotate:\n        this.rotateBlock.nativeElement.children[1].style.display = 'none';\n        this.rotateService.rotateStart(this.rotateBlock);\n        break;\n      case Status.Resize:\n        this.canvas.nativeElement.style.cursor = 'grab';\n        this.resizeService.startResize(e);\n        break;\n    }\n  }\n\n  resizeMove(e: MouseEvent): void {\n    if (this.status === Status.Resize) {\n      this.resizeService.resizeMove(e, this.activeDrawObject, this.canvas, this.rotateBlock, this.savedObjects);\n    }\n  }\n\n  resizeEnd(): void {\n    if (this.status === Status.Resize) {\n      this.activeDrawObject.point2 = this.resizeService.resizeEnd();\n      this.canvas.nativeElement.style.cursor = 'auto';\n      this.rotateBlock.nativeElement.style.cursor = 'grab';\n      this.drawService.refreshCanvas(this.canvas, this.savedObjects);\n      this.status = Status.Grab;\n    }\n  }\n\n  continueModifyingBlock(e: MouseEvent): void {\n    switch (this.status) {\n      case Status.Moving:\n        this.moveService.continueMove(e, this.canvas, this.activeDrawObject, this.savedObjects, this.rotateBlock);\n        break;\n      case Status.Rotate:\n        this.rotateService.rotateProgress(e, this.canvas, this.savedObjects, this.activeDrawObject, this.rotateBlock);\n        break;\n    }\n  }\n\n  endBlockModification(): void {\n    if (this.status === Status.Moving) {\n      this.moveService.endMove(this.activeDrawObject);\n    }\n    if (this.status !== Status.Resize) {\n      this.rotateBlock.nativeElement.style.cursor = 'grab';\n      if (this.activeDrawObject.rotate === 0) {\n        this.rotateBlock.nativeElement.children[1].style.display = 'block';\n      }\n      this.status = Status.Grab;\n      this.refreshObjects();\n    }\n  }\n\n  clearRect(rect: DrawObject): void {\n    let num: number;\n    this.drawService.clearDraw(this.canvas);\n    this.savedObjects.forEach((el, i) => {\n      if (el.num === rect.num) {\n        num = i;\n      } else {\n        this.drawService.drawRect(this.canvas, el);\n      }\n    });\n    this.savedObjects.splice(num, 1);\n    this.status = Status.Free;\n    this.drawService.renewableColor(rect.hisColor);\n    this.activeDrawObject = undefined;\n  }\n\n  refreshObjects(): void {\n    this.files[this.currentMove].objects.forEach(el => {\n      if (el.id === this.activeObject.id) {\n        el.rects = this.savedObjects;\n      }\n    });\n  }\n}\n","<section class=\"appview\">\n    <div class=\"pannels\">\n        <div class=\"objects\">\n            <ng-container \n                [ngTemplateOutlet]=\"title\" \n                [ngTemplateOutletContext]=\"{ title: objectsTitle, className: 'objects' }\">\n            </ng-container>\n            <ul *ngIf=\"imageUrl && files[currentMove]\">\n                <li \n                    *ngFor=\"let object of files[currentMove]!.objects; let i = index;\"\n                    [ngClass]=\"{'objects__item': true, 'active': activeObject.id === object.id }\"\n                    (click)=\"onObjectClick($event, object)\"\n                >{{ object.name }}</li>\n            </ul>\n        </div>\n        <div class=\"rects\">\n            <ng-container \n                [ngTemplateOutlet]=\"title\" \n                [ngTemplateOutletContext]=\"{ title: rectsTitle, className: 'rects' }\">\n            </ng-container>\n            <ul>\n                <li \n                    *ngFor=\"let object of savedObjects; let i = index;\" \n                    class=\"rects__item\"\n                    (click)=\"onItemClick($event, object)\">\n                    {{ rectsPartName + ' ' + i }}\n                    <button class=\"rects__delete\" (click)=\"clearRect(object)\">×</button>\n                </li>\n            </ul>\n        </div>\n        <div class=\"rects__coordinates\">\n            <div class=\"min-coordinates\">\n                <span>XMin: <span *ngIf=\"activeDrawObject\">{{ activeDrawObject | recount:1:Axis.X }}</span></span>\n                <span>YMin: <span *ngIf=\"activeDrawObject\">{{ activeDrawObject | recount:1:Axis.Y }}</span></span>\n            </div>\n            <div class=\"max-coordinates\">\n                <span>XMax: <span *ngIf=\"activeDrawObject\">{{ activeDrawObject | recount:2:Axis.X }}</span></span>\n                <span>YMax: <span *ngIf=\"activeDrawObject\">{{ activeDrawObject | recount:2:Axis.Y }}</span></span>\n            </div>\n        </div>\n    </div>\n    <div class=\"canvas-wrap\">\n        <div *ngIf=\"imageUrl && files[currentMove]\" class=\"image__container\">\n            <img #image [src]=\"imageUrl\" [alt]=\"files[currentMove].file!.name\" [style.maxWidth.%]=\"100\" [style.maxHeight.%]=\"100\">\n        </div>\n        <canvas\n            #canvas\n            [width]=\"800\"\n            [height]=\"600\"\n            class=\"appview__canvas\"\n            (mousedown)=\"ctxMouseDown($event)\"\n            (mousemove)=\"ctxMouseMove($event)\"\n            (mouseup)=\"ctxMouseUp()\"\n            (mouseleave)=\"ctxMouseUp()\">Your browser does not support the HTML5 canvas tag.</canvas>\n        <div \n            [style.display]=\"status !== Status.Free && status !== Status.Draw && status !== Status.Disabled ? 'block' : 'none'\" \n            class=\"rotate__wrap\"\n            (mousemove)=\"resizeMove($event)\"\n            (mouseup)=\"resizeEnd()\"\n            (mouseleave)=\"resizeEnd()\"\n        >\n            <div \n                #rotateBlock\n                appClickStopPropogation\n                class=\"rotate__block\"\n                (mousedown)=\"startChangeObject($event, Status.Moving)\"\n                (mousemove)=\"continueModifyingBlock($event)\"\n                (mouseup)=\"endBlockModification()\"\n                (mouseleave)=\"endBlockModification()\"\n            >\n                <svg \n                    #rotateBtn\n                    appClickStopPropogation\n                    class=\"rotate__btn\" \n                    focusable=\"false\" \n                    role=\"img\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    viewBox=\"0 0 512 512\"\n                    (mousedown)=\"startChangeObject($event, Status.Rotate)\">\n                    <path fill=\"green\" d=\"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z\"></path>\n                </svg>\n                <div\n                    appClickStopPropogation\n                    class=\"resize-btn\"\n                    (mousedown)=\"startChangeObject($event, Status.Resize)\"\n                ></div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<ng-template #title let-title=\"title\" let-className=\"className\">\n    <header class=\"{{ className }}__title\">\n        <h2>{{ title }}</h2>\n    </header>\n</ng-template>\n\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { HttpService } from 'src/app/services/http.service';\nimport { Router } from '@angular/router';\nimport { CookiesService } from 'src/app/services/cookies.service';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent implements OnInit {\n\n  public authForm: FormGroup;\n  public authError: string;\n  private token = 'asdasd2131dgnc123vc21v32193v1c2asdasd2131dgnc123vc21v32193v1c2';\n  private cookieOptions = {\n    // secure: true,\n    // 'max-age': 3600 * 14,\n  };\n\n  constructor(\n    private fb: FormBuilder,\n    private httpService: HttpService,\n    private cookiesService: CookiesService,\n    private router: Router,\n  ) {}\n\n  private _createForm(): void {\n    this.authForm = this.fb.group({\n      login: [null, [Validators.required]],\n      password: [null, [Validators.required]]\n    });\n  }\n\n  ngOnInit(): void {\n    this._createForm();\n    this.authForm.valueChanges.subscribe(val => {\n      this.authError = '';\n    });\n  }\n\n  isControlInvalid(controlName: string): boolean {\n    const control = this.authForm.controls[controlName];\n    const result = control.invalid && control.touched;\n    return result;\n  }\n\n  onSubmit(e: MouseEvent): void {\n    e.preventDefault();\n    const controls = this.authForm.controls;\n\n    if (this.authForm.invalid) {\n      Object.keys(controls).forEach(controlName => controls[controlName].markAsTouched());\n      return;\n    }\n    this.sendForm();\n  }\n\n  sendForm(): void {\n    // заглушка\n    if (this.authForm.value.login === 'yurka' && this.authForm.value.password === '12345') {\n      this.cookiesService.setCookie('token', this.token, this.cookieOptions);\n      this.cookiesService.setCookie('userId', '1', this.cookieOptions);\n      this.router.navigate(['/']);\n      return;\n    } else if (this.authForm.value.login === 'yurka1' && this.authForm.value.password === '12345') {\n      this.authError = 'Пользователь не найден';\n      this.ngOnInit();\n      return;\n    }\n    this.httpService.userAuthorization(this.authForm.value).subscribe(\n        res => {\n          console.log(res);\n          if (res.error) {\n            this.authError = res.error;\n            return;\n          } else {\n            // res.value =\n            this.cookiesService.setCookie('token', this.token);\n            this.router.navigate(['/']);\n          }\n        },\n        (error: HttpErrorResponse) => {\n          console.log(error);\n          this.authError = error.statusText;\n        },\n    );\n    this.ngOnInit();\n  }\n}\n","<section class=\"auth\">\n    <form class=\"auth__form\" [formGroup]=\"authForm\" autocomplete=\"off\" (ngSubmit)=\"onSubmit($event)\">\n        <h2 class=\"form-title\">Авторизация</h2>\n        <div class=\"form-control\">\n            <input formControlName=\"login\" type=\"text\" autocomplete=\"off\"  readonly placeholder=\"Логин\" (focus)=\"$event.srcElement.removeAttribute('readonly')\">\n            <div class=\"error\" [class.show]=\"isControlInvalid('login')\">Заполните значение</div>\n        </div>\n        <div class=\"form-control\">\n            <input formControlName=\"password\" type=\"password\" autocomplete=\"off\" readonly placeholder=\"Пароль\" (focus)=\"$event.srcElement.removeAttribute('readonly')\">\n            <div class=\"error\" [class.show]=\"isControlInvalid('password')\">Заполните значение</div>\n        </div>\n        <button class=\"form-btn\">Вход</button>\n        <div *ngIf=\"authError\" class=\"data__invalid\">{{ authError }}</div>\n    </form>\n</section>\n","import { Component, OnInit } from '@angular/core';\nimport { ResponseFile } from '../../interface/response-data';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './markup.component.html',\n  styleUrls: ['./markup.component.scss']\n})\nexport class MarkupComponent implements OnInit {\n\n  public uploadFiles: ResponseFile[];\n  public move = 0;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  changeImage(isNext: boolean): void {\n    const amoutFiles = this.uploadFiles.length - 1;\n    if (this.move === 0 && !isNext) {\n      this.move = amoutFiles;\n    } else if (this.move === amoutFiles && isNext) {\n      this.move = 0;\n    } else {\n      this.move += isNext ? 1 : -1;\n    }\n  }\n}\n\n","<section class=\"main\">\n    <aside>\n        <app-sidebar\n          (changeImage)=\"changeImage($event)\"\n          (сhangesFiles)=\"uploadFiles = $event\"\n        ></app-sidebar>\n    </aside>\n    <div class=\"appview-wrap\">\n        <app-appview\n          [currentMove]=\"move\"\n          [files]=\"uploadFiles\"\n        ></app-appview>\n    </div>\n</section>\n","import { Component, OnInit, Output, EventEmitter, HostListener, ViewChild, ElementRef } from '@angular/core';\nimport { ResponseFile, SearchObject } from 'src/app/interface/response-data';\nimport { HttpService } from 'src/app/services/http.service';\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent implements OnInit {\n\n  private files: ResponseFile[] = [];\n  private searchObjects: SearchObject[] = [\n    { id: 1, name: 'Продавец' },\n    { id: 2, name: 'Витрина выпечка' },\n    { id: 3, name: 'Витрина хлеб' },\n  ];\n\n  @Output() сhangesFiles = new EventEmitter<Array<ResponseFile>>();\n  @Output() changeImage = new EventEmitter<boolean>();\n  @ViewChild('input', {static: false}) input: ElementRef;\n\n  @HostListener('window:keydown', ['$event']) handleKeyboardEvent(event: KeyboardEvent): void {\n    if (event.key === 'ArrowRight') {\n      this.nextImg(true);\n    }\n\n    if (event.key === 'ArrowLeft') {\n      this.nextImg(false);\n    }\n  }\n\n  constructor(private httpService: HttpService) {}\n\n  ngOnInit(): void {}\n\n  send(): void {\n    this.httpService.send();\n  }\n\n  changesImages(event: any): void {\n    const files = Array.from(event.srcElement.files);\n    this.files = files.map((file: File, i: number): ResponseFile => {\n      return { id: i, name: `${ i }`, file, objects:  this.searchObjects.map(el => Object.assign({}, el)) };\n    });\n    this.сhangesFiles.emit(this.files);\n  }\n\n  getImage(): void {\n    this.httpService.getImage().subscribe((image: ResponseFile) => {\n      this.files.push(image);\n    });\n    this.сhangesFiles.emit(this.files);\n  }\n\n  nextImg(isNext: boolean): void {\n    if (this.files && this.files.length > 1) {\n      this.changeImage.emit(isNext);\n    }\n  }\n\n  clean(): void {\n    this.input.nativeElement.value = '';\n  }\n}\n","<nav class=\"nav\">\n    <ul class=\"nav__list\">\n        <li class=\"nav__item\">\n            <button class=\"nav__btn\">\n                <span>Open Files</span>\n                <input #input (focus)=\"clean()\" (change)=\"changesImages($event)\" value=\"Open\" type=\"file\" accept=\"image/*\" title=\"\" multiple>\n            </button>\n        </li>\n        <li class=\"nav__item\">\n            <button class=\"nav__btn\" (click)=\"nextImg(true)\">Next Image</button>\n        </li>\n        <li class=\"nav__item\">\n            <button class=\"nav__btn\" (click)=\"nextImg(false)\">Prev Image</button>\n        </li>\n        <li class=\"nav__item\">\n            <button class=\"nav__btn\" (click)=\"send()\">Send</button>\n        </li>\n    </ul>\n</nav>\n","import { Directive, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[appClickStopPropogation]'\n})\nexport class ClickStopPropogationDirective {\n\n  constructor() { }\n\n  @HostListener('click', ['$event'])\n  onClick(event: any): void {\n    event.stopPropagation();\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onmousedown(event: any): void {\n    event.stopPropagation();\n  }\n}\n","export enum Status {\n    Resize,\n    Rotate,\n    Moving,\n    Disabled,\n    Draw,\n    Free,\n    Grab,\n}\n\nexport interface Point {\n    x: number;\n    y: number;\n}\n\nexport interface DrawObject {\n    num?: number;\n    point1: Point;\n    point2: Point;\n    hisColor?: string;\n    rotate?: number;\n}\n\nexport interface DrawColor {\n    isUsed: boolean;\n    color: string;\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DrawObject, Point } from '../interface/drow';\n\nexport enum Axis {\n  X,\n  Y\n}\n\n@Pipe({\n  name: 'recount',\n  pure: false,\n})\nexport class RecountPipe implements PipeTransform {\n\n  transform(object: DrawObject, pointNum: number, axis?: Axis): Point | number {\n    let PointNew: Point;\n    if (object.rotate) {\n      const x = this.countCoordinate(object, pointNum, Axis.X);\n      const y = this.countCoordinate(object, pointNum, Axis.Y);\n      PointNew = { x , y };\n    } else {\n      PointNew = object[`point${ pointNum }`];\n    }\n    PointNew = {\n      x: parseInt(`${ PointNew.x }`, 10),\n      y: parseInt(`${ PointNew.y }`, 10),\n    };\n    return axis === undefined ? PointNew : PointNew[axis === Axis.X ? 'x' : 'y'];\n  }\n\n  countCoordinate(object: DrawObject, pointNum: number, axis: Axis): number {\n    const deg = object.rotate  * Math.PI / 180;\n    const point = object[`point${ pointNum }`];\n    const centerX = (object.point2.x + object.point1.x) / 2;\n    const centerY = (object.point2.y + object.point1.y) / 2;\n    switch (axis) {\n      case Axis.X:\n        return centerX + (point.x - centerX) * Math.cos(-deg) - (point.y - centerY) * Math.sin(-deg);\n      case Axis.Y:\n        return centerY + (point.x - centerX) * Math.sin(-deg) + (point.y - centerY) * Math.cos(-deg);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CookiesService {\n\n  constructor() {}\n\n  getItem(key: string): string {\n    const matches = document.cookie.match(new RegExp(\n      '(?:^|; )' + key.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n  }\n\n  setCookie(key: string, value: string, options: any = {}): void {\n      options = { path: '/', ...options };\n\n      if (options.expires instanceof Date) {\n          options.expires = options.expires.toUTCString();\n      }\n\n      let updatedCookie = encodeURIComponent(key) + '=' + encodeURIComponent(value);\n\n      for (const optionKey of Object.keys(options)) {\n          updatedCookie += '; ' + optionKey;\n          const optionValue = options[optionKey];\n          if (optionValue !== true) {\n              updatedCookie += '=' + optionValue;\n          }\n      }\n\n      document.cookie = updatedCookie;\n  }\n\n  deleteCookie(key: string): void {\n      this.setCookie(key, '', { 'max-age': -1 });\n  }\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { Point, DrawObject, DrawColor } from '../interface/drow';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawService {\n\n  private drawColors: DrawColor[] = [\n    {isUsed: false, color: '#008000'},\n    {isUsed: false, color: '#006400'},\n    {isUsed: false, color: '#9ACD32'},\n    {isUsed: false, color: '#008080'},\n    {isUsed: false, color: '#0000FF'},\n    {isUsed: false, color: '#191970'},\n    {isUsed: false, color: '#800000'},\n    {isUsed: false, color: '#A0522D'},\n    {isUsed: false, color: '#A52A2A'},\n    {isUsed: false, color: '#D2691E'},\n    {isUsed: false, color: '#B8860B'},\n    {isUsed: false, color: '#DAA520'},\n    {isUsed: false, color: '#F4A460'},\n    {isUsed: false, color: '#D2B48C'},\n    {isUsed: false, color: '#FF00FF'},\n    {isUsed: false, color: '#FFD700'},\n    {isUsed: false, color: '#FFFF00'},\n    {isUsed: false, color: '#CD5C5C'},\n    {isUsed: false, color: '#DC143C'},\n    {isUsed: false, color: '#FFA07A'},\n  ];\n  private currentColor: DrawColor;\n  private defaultColor = '#000000';\n  private lineWidth = 3;\n\n  constructor() {}\n\n  getCoordinates(event: MouseEvent): Point {\n    const x = event.offsetX;\n    const y = event.offsetY;\n    return { x, y };\n  }\n\n  drawRect(canvas: ElementRef, drawObject: DrawObject): void {\n    const ctx = canvas.nativeElement.getContext('2d');\n    this.rotateObject(ctx, drawObject);\n    ctx.beginPath();\n    ctx.rect(\n      drawObject.point1.x,\n      drawObject.point1.y,\n      Math.abs(drawObject.point2.x - drawObject.point1.x),\n      Math.abs(drawObject.point2.y - drawObject.point1.y)\n    );\n    ctx.closePath();\n    ctx.imageSmoothingEnabled = true;\n    ctx.strokeStyle = drawObject.hisColor;\n    ctx.lineWidth = this.lineWidth;\n    ctx.lineCap = 'square';\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  rotateObject(ctx: CanvasRenderingContext2D, drawObject: DrawObject): void {\n    if (drawObject.rotate !== 0) {\n      ctx.save();\n      const centerX = drawObject.point2.x - Math.abs(drawObject.point2.x - drawObject.point1.x) / 2;\n      const centerY = drawObject.point2.y - Math.abs(drawObject.point2.y - drawObject.point1.y) / 2;\n      ctx.translate(centerX, centerY);\n      ctx.rotate(-drawObject.rotate * Math.PI / 180);\n      ctx.translate(-centerX, -centerY);\n    }\n  }\n\n  startDraw(object: DrawObject, e: MouseEvent): DrawObject {\n    this.currentColor = this.drawColors.find(el => !el.isUsed);\n    object.point1 = object.point2 = this.getCoordinates(e);\n    object.hisColor = this.currentColor ? this.currentColor.color : this.defaultColor;\n    return object;\n  }\n\n  drawInProgres(\n    canvas: ElementRef,\n    e: MouseEvent,\n    drawObject: DrawObject,\n    objects: DrawObject[]\n  ): DrawObject {\n    drawObject.point2 = this.getCoordinates(e);\n    this.clearDraw(canvas);\n    // так как с холста все удалили рисуем заново существующие\n    objects.forEach((el: DrawObject)  => {\n      this.drawRect(canvas, el);\n    });\n    this.drawRect(canvas, drawObject);\n    return drawObject;\n  }\n\n  endDraw(): string {\n    if (this.currentColor) {\n      this.drawColors.find((el: DrawColor) => {\n        if (this.currentColor.color === el.color) {\n          el.isUsed = !el.isUsed;\n        }\n      });\n    }\n    return this.currentColor ? this.currentColor.color : this.defaultColor;\n  }\n\n  clearDraw(canvas: ElementRef, isRenewableColors = false): void {\n    const ctx = canvas.nativeElement.getContext('2d');\n    ctx.clearRect(0, 0, canvas.nativeElement.width, canvas.nativeElement.height);\n    if (isRenewableColors) {\n      this.renewableColors();\n    }\n  }\n\n  renewableColors(): void {\n    this.drawColors.forEach(el => el.isUsed = false);\n  }\n\n  renewableColor(color: string): void {\n    this.drawColors.forEach(el => el.isUsed = el.color === color ? false : el.isUsed);\n  }\n\n  refreshCanvas(canvas: ElementRef, objects: DrawObject[]): void {\n    this.clearDraw(canvas);\n    objects.forEach(obj => {\n      this.drawRect(canvas, obj);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ResponseFile } from '../interface/response-data';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Subject, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { CookiesService } from './cookies.service';\n\n\nexport interface UserAuth {\n  login: string;\n  password: string;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  private apiAuthUrl = 'authorization';\n  private apiGetImageUrl = 'getimages';\n\n  constructor(\n    private http: HttpClient,\n    private cookiesService: CookiesService\n  ) { }\n\n  private token: 'asdasd2131dgnc123vc21v32193v1c2asdasd2131dgnc123vc21v32193v1c2';\n  public isSendData = new Subject();\n\n  getImage(): Observable<ResponseFile> {\n    const userId = this.cookiesService.getItem('userId');\n    const params = new HttpParams().set('userId', userId.toString());\n    return this.http.get<ResponseFile>(this.apiGetImageUrl, { params });\n  }\n\n  send(): void {\n    this.isSendData.next();\n  }\n\n  sendImage(files: ResponseFile[]): void {\n    files.forEach(file => {\n      file.objects.forEach(object => {\n        object.rects?.forEach(rect => {\n          rect = { point1: rect.point1, point2: rect.point2, rotate: rect.rotate };\n        });\n      });\n    });\n    console.log(files);\n\n    // this.http.post('https://localhost:3000', files);\n  }\n\n  userAuthorization(data: UserAuth): Observable<any> | any {\n    const authHeaders = new HttpHeaders().set('Authorization', 'my-auth-token');\n    return this.http.post(this.apiAuthUrl, data, { headers: authHeaders }).pipe(map(res => {\n      return res;\n    }));\n  }\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { DrawService } from './draw.service';\nimport { DrawObject } from '../interface/drow';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MoveService {\n\n  private moveStartX: number;\n  private moveStartY: number;\n  private moveEndX: number;\n  private moveEndY: number;\n\n  constructor(\n    private drawService: DrawService\n  ) { }\n\n  moveStart(e: MouseEvent): void {\n    this.moveStartX = e.pageX;\n    this.moveStartY = e.pageY;\n  }\n\n  continueMove(e: MouseEvent, canvas: ElementRef, activeDrawObject: DrawObject, savedObjects: DrawObject[], block: ElementRef): void {\n    this.moveEndX = activeDrawObject.point1.x + e.pageX - this.moveStartX;\n    this.moveEndY = activeDrawObject.point1.y + e.pageY - this.moveStartY;\n    block.nativeElement.style.left = `${ this.moveEndX }px`;\n    block.nativeElement.style.top = `${ this.moveEndY }px`;\n    this.drawService.clearDraw(canvas);\n    savedObjects.forEach((el: DrawObject): void => {\n      if (activeDrawObject.num === el.num) {\n        const point2 = {\n          x: this.moveEndX + el.point2.x - el.point1.x,\n          y: this.moveEndY + el.point2.y - el.point1.y\n        };\n        this.drawService.drawRect(canvas, {\n            num: el.num,\n            point1: { x: this.moveEndX, y: this.moveEndY },\n            point2: { x: point2.x, y: point2.y },\n            hisColor: el.hisColor,\n            rotate: el.rotate\n          });\n      } else {\n        this.drawService.drawRect(canvas, el);\n      }\n    });\n  }\n\n  endMove(movableObject: DrawObject): void {\n    const width = Math.abs(movableObject.point2.x - movableObject.point1.x);\n    const height = Math.abs(movableObject.point2.y - movableObject.point1.y);\n    movableObject.point1.x = this.moveEndX;\n    movableObject.point1.y = this.moveEndY;\n    movableObject.point2.x = this.moveEndX + width;\n    movableObject.point2.y = this.moveEndY + height;\n  }\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { DrawObject, Point } from '../interface/drow';\nimport { DrawService } from './draw.service';\nimport { RecountPipe } from '../pipe/recount.pipe';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResizeService {\n\n  private resizeStartPoint: Point = {x: 0, y: 0};\n  private resizeEndPoint: Point = {x: 0, y: 0};\n\n  constructor(\n    private recountPipe: RecountPipe,\n    private drawService: DrawService,\n  ) {}\n\n  startResize(e: MouseEvent): void {\n    this.resizeStartPoint.x = e.pageX;\n    this.resizeStartPoint.y = e.pageY;\n  }\n\n  resizeMove(e: MouseEvent, object: DrawObject, canvas: ElementRef, block: ElementRef, allObjects: DrawObject[]): void {\n      const oldObject = Object.assign(object);\n      const point1 = this.rotatePoint(oldObject.point1, oldObject);\n      const moveX = e.pageX - this.resizeStartPoint.x;\n      const moveY = e.pageY - this.resizeStartPoint.y;\n      const point2 = {\n        x: this.rotatePoint(oldObject.point2, oldObject).x + moveX,\n        y: this.rotatePoint(oldObject.point2, oldObject).y + moveY\n      };\n\n      this.resizeEndPoint = this.recountPipe.transform({ point1, point2, rotate: -oldObject.rotate }, 2) as Point;\n      block.nativeElement.style.width = `${ Math.abs(this.resizeEndPoint.x - object.point1.x) }px`;\n      block.nativeElement.style.height = `${ Math.abs(this.resizeEndPoint.y - object.point1.y) }px`;\n      this.refreshRects(canvas, allObjects, object);\n  }\n\n  resizeEnd(): Point {\n    return this.resizeEndPoint;\n  }\n\n  refreshRects(canvas: ElementRef, allObjects: DrawObject[], object: DrawObject): void {\n    this.drawService.clearDraw(canvas);\n    allObjects.forEach((el: DrawObject): void => {\n      if (object.num === el.num) {\n        this.drawService.drawRect(canvas, {\n            num: el.num,\n            point1: object.point1,\n            point2: this.resizeEndPoint,\n            hisColor: el.hisColor,\n            rotate: el.rotate\n          });\n      } else {\n        this.drawService.drawRect(canvas, el);\n      }\n    });\n  }\n\n  rotatePoint(point: Point, oldObject: DrawObject): Point {\n    const angle = -oldObject.rotate  * Math.PI / 180;\n    const centerPoint = {\n      x: (oldObject.point1.x + oldObject.point2.x) / 2,\n      y: (oldObject.point1.y + oldObject.point2.y) / 2\n    };\n    return {\n      x: centerPoint.x + (point.x - centerPoint.x) * Math.cos(angle) - (point.y - centerPoint.y) * Math.sin(angle),\n      y: centerPoint.y + (point.x - centerPoint.x) * Math.sin(angle) + (point.y - centerPoint.y) * Math.cos(angle)\n    };\n  }\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { DrawObject } from '../interface/drow';\nimport { DrawService } from './draw.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RotateService {\n  private centerX: number;\n  private centerY: number;\n  private deg = 0;\n\n  constructor(\n    private drawService: DrawService,\n  ) { }\n\n\n  rotateStart(block: ElementRef): void {\n    const rect = block.nativeElement.getBoundingClientRect();\n    this.centerX = rect.left + (rect.width / 2);\n    this.centerY = rect.top + (rect.height / 2);\n  }\n\n  rotateProgress(e: MouseEvent, canvas: ElementRef, objects: DrawObject[], activeObject: DrawObject, block: ElementRef): void {\n    const rotateX = e.pageX - this.centerX;\n    const rotateY = e.pageY - this.centerY;\n    this.deg = parseInt(`${ Math.abs(360 - ((180 / Math.PI) * Math.atan2(rotateY, rotateX))) }`, 10);\n    this.rotateCurrentBlock(this.deg, block);\n    this.drawService.clearDraw(canvas);\n    objects[activeObject.num].rotate = this.deg;\n    this.drawService.refreshCanvas(canvas, objects);\n  }\n\n  rotateCurrentBlock(deg: number, block: ElementRef): void {\n    block.nativeElement.style.transform = `rotate(${ -deg }deg)`;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}